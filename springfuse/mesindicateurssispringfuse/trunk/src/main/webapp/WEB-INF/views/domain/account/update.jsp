<%--
 | (c) Copyright 2005-2012 JAXIO, www.jaxio.com
 | Source code generated by Celerio, a Jaxio product
 | Want to use Celerio within your company? email us at info@jaxio.com
 | Follow us on twitter: @springfuse
 | Template pack-mvc-3-sd:src/main/webapp/WEB-INF/views/domain/update.e.vm.jsp
--%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"
%><%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt"
%><%@ taglib prefix="spring" uri="http://www.springframework.org/tags"
%><%@ taglib prefix="form" uri="http://www.springframework.org/tags/form"
%><%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"
%><head>
	<title><fmt:message key="account" />: <fmt:message key="crud.functionalities.update" /></title>
</head>
<body>
	<a href="${pageContext.request.contextPath}/domain/account/search" class="ajaxy button button-search"><fmt:message key="account" /></a>
	<a href="${pageContext.request.contextPath}/domain/account/show/${account.id}" class="ajaxy button button-show"><fmt:message key="crud.show.button" /></a>
	<span class="ui-state-highlight button button-edit"><fmt:message key="crud.edit.button" /></span>
	<a href="${pageContext.request.contextPath}/domain/account/delete/${account.id}" class="modal button button-delete"><fmt:message key="crud.delete.button" /></a>

	<form:form action="${pageContext.request.contextPath}/domain/account/update/${account.id}" modelAttribute="account" method="POST">
		<form:errors cssClass="error"/>
		<form:hidden path="id"/>
		<form:hidden path="version"/>
		<table class="edit">
			<tbody>
				<tr>
					<th><fmt:message key="account_username" /> <em>*</em></th>
					<td>
						<form:input path="username" cssClass="required {minlength: 4}" maxlength="255" size="100"/>
						<form:errors path="username" cssClass="error"/>
					</td>
				</tr>
				<tr>
					<th><fmt:message key="account_password" /> <em>*</em></th>
					<td>
						<form:password path="password" cssClass="required {maxlength: 255}"/>
						<form:errors path="password" cssClass="error"/>
					</td>
				</tr>
				<tr>
					<th><fmt:message key="account_email" /> <em>*</em></th>
					<td>
						<form:input path="email" cssClass="email required {maxlength: 255}" maxlength="255" size="100"/>
						<form:errors path="email" cssClass="error"/>
					</td>
				</tr>
				<tr>
					<th><fmt:message key="account_isEnabled" /></th>
					<td>
						<form:checkbox path="isEnabled"/>
						<form:errors path="isEnabled" cssClass="error"/>
					</td>
				</tr>
				<tr>
					<th><fmt:message key="account_civility" /></th>
					<td>
						<form:radiobuttons path="civility" cssClass="{maxlength: 2 minlength: 2}" />
						<form:errors path="civility" cssClass="error"/>
					</td>
				</tr>
				<tr>
					<th><fmt:message key="account_firstName" /></th>
					<td>
						<form:input path="firstName" cssClass="{maxlength: 255}" maxlength="255" size="100"/>
						<form:errors path="firstName" cssClass="error"/>
					</td>
				</tr>
				<tr>
					<th><fmt:message key="account_lastName" /></th>
					<td>
						<form:input path="lastName" cssClass="{maxlength: 255}" maxlength="255" size="100"/>
						<form:errors path="lastName" cssClass="error"/>
					</td>
				</tr>
				<tr>
					<th><fmt:message key="account_birthDate" /></th>
					<td>
						<form:input path="birthDate" cssClass="datepicker" size="11"/>
						<form:errors path="birthDate" cssClass="error"/>
					</td>
				</tr>
				<tr>
					<th><fmt:message key="account_addressId" /></th>
					<td>
						<input type="hidden" id="homeAddressLink" name="homeAddress" value="<spring:eval expression="account.addressId" javaScriptEscape="true"/>" />
						<input type="text" id="homeAddressLabel" value="<spring:eval expression="account.homeAddress" javaScriptEscape="true"/>" size="100">
						<script>
						$(function() {
							$("#homeAddressLabel").autocomplete('destroy');
							$("#homeAddressLabel").autocomplete({
								source: "${pageContext.request.contextPath}/domain/rest/address/autocomplete",
								select: function(event, ui) {
									$("#homeAddressLink").val(ui.item.id);
									$("#homeAddressLabel").val(ui.item.label);
								}
							});
						});
						</script>
 						<form:errors path="homeAddress" cssClass="error"/>
					</td>
				</tr>
				<tr>
					<th><fmt:message key="role" /></th>
					<td>
						<form:select path="roles" multiple="true" items="${roles}" itemValue="id"/>
						<form:errors cssClass="error" path="roles"/>
					</td>
				</tr>
			</tbody>
			<tfoot>
				<tr>
					<td colspan="2">
						<input type="submit" class="button button-save" value="<fmt:message key="crud.save.button" />" />
					</td>
				</tr>
			</tfoot>
		</table>
	</form:form>
</body>
