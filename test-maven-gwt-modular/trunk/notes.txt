parent pom

<resources>
			<!-- Java resources -->
			<resource>
				<directory>src/main/resources</directory>
			</resource>
			<!-- WEB resources -->
			<resource>
				<directory>src/main/webapp</directory>
			</resource>
			<!-- GWT resources -->			
			<resource>
				<directory>src/main/java</directory>
				<includes>
					<include>**/client/**/*.java</include>
					<include>**/shared/**/*.java</include>
					<include>**/*.gwt.xml</include>
				</includes>
			</resource>
		</resources>

<!-- JAR plugin -->
<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-jar-plugin</artifactId>
				<version>${maven-jar-plugin.version}</version>
				<configuration>
					<classesDirectory>${project.build.directory}</classesDirectory>
					<!--  <classesDirectory>${project.build.outputDirectory}</classesDirectory> -->
					<includes>					
						<!-- Java resources -->
						<!--  <include>classes</include>  -->
						<include>classes/**/*.class</include>
						<!-- 
						<include>**/*.class</include>
						-->
						<!-- WEB resources -->
						<include>*.html</include>
						<include>**/*.js</include>
						<include>**/*.png</include>
						<include>**/*.css</include>
						<include>*/*.ico</include>
						
						<include>${project.artifactId}</include>						
						<!-- 
						<include>classes/*.html</include>
						<include>classes/*.js</include>
						<include>classes/*.png</include>
						<include>classes/*.css</include>
						<include>classes/*.ico</include>
						 -->
						<!-- GWT resources -->
																		<include>classes/**/*.java</include>
						<include>classes/**/*.gwt.xml</include>
						<!--
						 						<include>**/*.java</include>
						<include>**/*.gwt.xml</include>
						 -->
						<!-- <include>${project.artifactId}-${project.version}/**</include> -->
					</includes>
				</configuration>				
			</plugin>


----

WAR POM

			<!-- Copy static web files before executing gwt:run -->
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-war-plugin</artifactId>
				<executions>
					<execution>
						<phase>compile</phase>
						<goals>
							<goal>exploded</goal>
						</goals>
					</execution>
				</executions>
				<configuration>
					<webappDirectory>${webappDirectory}</webappDirectory>
				</configuration>
			</plugin>




			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-dependency-plugin</artifactId>

				<executions>
					<execution>
						<id>unpack</id>
						<phase>compile</phase> <!-- strange hack, to have it done earlier in the lifecycle -->
						<goals>
							<goal>unpack</goal>
						</goals>
						<configuration>
							<artifactItems>
								<artifactItem>
									<groupId>org.stbland.test.mavengwtmodular</groupId>
									<artifactId>${module1.artifactId}</artifactId>
								</artifactItem>							
								<artifactItem>
									<groupId>org.stbland.test.mavengwtmodular</groupId>
									<artifactId>${module2.artifactId}</artifactId>
								</artifactItem>
								<!-- <artifactItem> <groupId>fspotcloud</groupId> <artifactId>client</artifactId> 
									</artifactItem> <artifactItem> <groupId>com.google.appengine.testing.cloudcover</groupId> 
									<artifactId>cloudcover-ui</artifactId> <classifier>web</classifier> <type>zip</type> 
									<overWrite>true</overWrite> </artifactItem> -->
							</artifactItems>
						</configuration>
					</execution>
				</executions>
			</plugin>



<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-war-plugin</artifactId>
				<configuration>
					<webResources>
						<resource>
							<directory>${project.build.directory}/dependency/classes</directory>
							<includes>
								<include>**</include>
							</includes>
						</resource>
						<resource>
							<directory>${project.build.directory}/dependency/${module2.artifactId}-${project.version}/</directory>
							<includes>
								<include>**</include>
							</includes>
							<excludes>
								<exclude>classes/**</exclude>
							</excludes>
						</resource>
						<resource>
							<directory>${project.build.directory}/dependency/${module2.artifactId}-${project.version}/</directory>
							<includes>
								<include>**</include>
							</includes>
							<excludes>
								<exclude>classes/**</exclude>
							</excludes>
						</resource>						
						<resource>
							<directory>${project.build.directory}/dependency/</directory>
							<includes>
								<!-- 
								<include>cloudcover.css</include>
								<include>cloudcover.html</include>								
								<include>com.google.appengine.testing.cloudcover.CloudCover/**</include>
								 -->
								<include>META-INF</include>
								<include>WEB-INF</include>
							</includes>
						</resource>
					</webResources>
				</configuration>
			</plugin>



